# EVI

Краткая документация по проекту 
«LEGENDS OF EVI»


Выполнили:
Кононов И. Е., группа 6203. 
Мухитдинов В. Р., группа 6203.
Горбунов Е. Р., группа 6203.








Аннотация проекта
Цели, которые ставились в начале семестра:
1. Изучить механику генерации локаций и персонажей -  для создания игры необходимо изучить принципы генерации случайных уровней и персонажей, что позволит сделать игру более непредсказуемой и интересной. Концепция Roguelike - одна из самых распространенных и популярных в данном жанре.  
2. Генерация карты подземелий - необходимо разработать генератор случайных уровней, чтобы каждый раз создавать новые локации для игрока.
3. Персонаж игрока и его движение 
4. Область видимости 
5. Создание врагов - игровые враги должны быть разнообразными и иметь свои уникальные характеристики и поведение, что сделает игру более интересной и разнообразной.
6. Боевая система 
7. Повышение уровней игрока - нужно создать систему получения опыта и повышения уровня игрока, которая будет связана с его достижениями в игре.
8. Финальный босс - выведем нашу игру на новый уровень, создав финального босса, который станет последним испытанием для игрока и придаст игре еще больше эпичности.
Состав команды
Горбунов Егор – тимлид и менеджер проекта: 
•	Звуковое сопровождение и возможность его изменять
•	Сюжетные экраны и экран настроек
•	Координирование действий коллег по проекту 
Кононов Илья –разработчик: 
•	Написание кода 
•	Поиск материалов 
•	Графическая обработка материалов 
Мухитдинов Владислав – разработчик и QA engineer: 
•	Написание кода 
•	Поиск материалов 
•	Графическая обработка материалов 

 
Введение
В современном мире игровая индустрия продолжает радовать нас удивительными и захватывающими проектами. И одним из самых популярных жанров игр стал "рогалик" - увлекательная комбинация приключений, стратегии и элементов случайной генерации. Этот жанр не только вызывает интерес и восторг у геймеров со всего мира, но и представляет значительный потенциал для разработчиков.
Актуальность "рогаликов" в целом в мире игр заключается в их способности создавать уникальные и неповторимые игровые опыты. Сочетание случайно генерируемых уровней, постоянного риска и возможности сохранения прогресса при смерти персонажа делает каждую игру уникальной и заставляет игроков возвращаться к ним снова и снова. Благодаря этому "рогалики" обладают высокой степенью переигрываемости и способны увлечь как новичков, так и опытных игроков.
Однако, помимо общей актуальности "рогаликов" в игровой индустрии, для нас лично выбор этого типа приложений стал особенно привлекательным. Нам было интересно исследовать способы создания и сбалансирования уровней, разрабатывать игровые механики.
Первый и самый важный шаг при создании игры в жанре рогалик - это разработка концепта и идеи игры. Жанр рогалик предполагает создание случайных, непредсказуемых уровней, однако можно определить общий стиль игры, основные элементы геймплея и механику.
Кроме того, необходимо разработать графические элементы для игры, такие как текстуры, модели персонажей и другие элементы, создание звуков и музыки, соответствующих общей атмосфере игры.
Один из интересных аспектов создания игры в жанре рогалик - это тестирование и усовершенствование, так как при генерации уровней и игровых элементов может возникать множество багов и несбалансированных моментов. 
В целом, создание игры в жанре рогалик - это занятное и увлекательное развлечение, которое приносит массу удовлетворения и творческого продвижения. 
Цель данного реферата - представить процесс разработки нашей игры в стиле "рогалик" и продемонстрировать достижения в этом проекте.  
Особенности разработки
Технические особенности и реализация
Стек используемых технологий, основные алгоритмы (кратко), взаимодействие модулей между собой. Описание структуры разработанного приложения, ядро программы – примеры основных модулей и их описание. Примеры кода. 
Как осуществлялось групповое взаимодействие, используемые для этого технологии.
Стек используемых технологий:
Для реализации нашего проекта использовался язык программирования «Python». Основная библиотека, при помощи команд которой реализовались бо́льшие части проекта, это «pygame».
Основные алгоритмы:
Генерация уровней: Этот алгоритм отвечает за создание случайных и уникальных уровней, которые игрок будет исследовать во время игры. Он определяет расположение комнат, коридоров и врагов на уровне, обеспечивая разнообразие и переигрываемость.

Поведение врагов: Алгоритм определяет их поведение и действия в игре. Враги должны быть умными и реагировать на действия игрока, преследуя его, атакуя или избегая встречи. Реализация поведения врагов может варьироваться в зависимости от их типов.

Система боя и прогрессия персонажа: Алгоритмы, отвечающие за систему боя и развитие персонажа, определяют механику сражений. Этот алгоритм играет важную роль в создании чувства прогресса и достижений у игрока.

Генерация случайных событий: В играх в стиле "рогалик" важную роль играют случайные события, которые происходят в процессе игры и влияют на игровой опыт пользователя.
Структура приложения:
1.	Main
Главным исполняемым файлом является файл «main.py». В нем происходит импорт всех исходных файлов, связь между другими классами проекта, а также в нем работает основной цикл, в котором описывается вся логика событий, которые происходят в игре.
2. Hero
Класс, в котором описывается логика существования главного персонажа
3. Enemy
Класс, в котором описывается поведение врагов и их внешний вид
4. Room 
Класс, в котором происходит генерация комнат (направлений порталов)
5. Shot
Класс, созданный для реализации стрельбы главного персонажа
Все остальные классы либо выполняют те же самые функции, либо не слишком важны для конечного результата.
Примеры основных модулей:
1.	Главный цикл 
while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            exit()
    if not running:
...код, в котором описывается графический интерфейс…
            else:
            ...
            if((len(enemies_1)+len(enemies_2)+len(enemies_3)==0 and len(boss)==0) or restart_game==True):
		...код, для создания новой комнаты...
	     if (hero_sprite.health <= 0):
		...код, в котором обрабатывается смерть игрока...
	     if (len(boss) == 0 and schet == 10):
    		 show_win_screen() #код, для обработки условия победы
	     if pygame.sprite.spritecollide(hero_sprite, walls, False, pygame.sprite.collide_circle):
		  ...код для контроля столконвения со стенами
	     if(schet==10):
		  ...код для появления босса...
	     hero_sprite.update(pygame.key.get_pressed(), room1.way1...
	     ...код для обработки всех возможных событий, обработка которых выолняется в других модулях...
 walls.draw(sc)
 portals.draw(sc)
 ...отрисовка всех объектов...
clock.tick(FPS) #определение количества проходов по циклу за секунду
pygame.display.update() # отображение всего, что было отрисовано за последний проход по циклу
2.	Главный герой:
...код для задания структуры класса..
def update(self, *args):
	    if 1 in args[7]:
		...обработка нажатия клавиш для управления игроком…
        	if collide.index(1) == 0:
		    ...изменение координат игрока...
	    if args[0][pygame.K_UP]:
		...анимация главного героя...


3.	Комнаты
...код для задания структуры класса..
def new_room(self, hero_sprite):
	...логика для создания новой комнаты...

4.	Враги
...код для задания структуры класса..

def update(self, *args):
	...код для задержки анимации врага...
	if self.clock < pygame.time.get_ticks():
	   ...
	   if abs(hero.rect.x - x) > 100:
		...обработка условий для передвижения персонажей...
	   else:
		...анимация ударов и сами удары...
	

Как осуществлялось групповое взаимодействие, используемые для этого технологии:
Групповое взаимодействие осуществлялось при помощи мессенджера «Telegram», а также платформы «Discord»
 
Внешний вид и взаимодействие с пользователем (руководство пользователя)
Добро пожаловать в игру в стиле rogue-like! 
Цель игры - пройти 10 комнат и победить босса. Вам нужно будет управлять главным героем, перемещаться по комнатам, стрелять во врагов и пытаться выжить. 
Управление: 
•	Перемещение главного героя осуществляется с помощью стрелочек на клавиатуре. 
•	Стрельба осуществляется на клавиши WASD в восемь сторон. 
•	Взаимодействовать с порталами можно, когда герой стоит рядом с ним, в комнате нет врагов, и пользователь нажимает клавишу Enter. 
Противники: 
•	В комнатах вы столкнетесь с тремя врагами, которые могут атаковать как в ближнем, так и в дальнем бою. 
•	Враги и главный герой обладают здоровьем, которое отнимается при попадании врага. Если здоровье главного персонажа опустится ниже нуля, игрок проигрывает. 
•	При победе над всеми врагами в комнате появятся порталы. В них можно пройти, если герой стоит рядом с ним и нажимает клавишу Enter. После прохождения 10 комнат, вы столкнетесь с боссом, который имеет помощника. Помощник воскрешается, каждые 30 секунд после своего первого появления. 
•	За убийство врагов главный персонаж восстанавливает здоровье.
Интерфейс: 
•	Графический интерфейс позволяет запускать игру, выходить из нее, ставить на паузу и изменять настройки громкости музыки и эффектов. 
•	Здоровье отображаются на экране. 
Старайтесь уклоняться от атак врагов и выжить, чтобы победить всех врагов и дойти до финального босса! Наслаждайтесь игрой! 

 
Проблемы в реализации проекта
•	Если не учитывать то, что большинство участников работало с поставленными задачами впервые, на старте хотелось бы видеть фрагменты кода, которое не требовало бы исправления в последствии, а также не усложняло работу других фрагментов. (Позже мы тщательнее стали планировали работу над проектом - определяя цели на следующую контрольную точку, подробнее описывали друг другу требования к поставленной перед ним задачей.)
•	Изначально следовало бы искать исходный материал для работы в лучшем качестве. (Позже мы определили откуда лучше брать спрайты для игры и каким требованиям они должны отвечать.)
•	Хотелось бы при следующем подобным опыте более рационально распределять время для работы над проектом. (Позже мы стали определять приоритет задач и следовать им, чтобы успеть выполнить основные задачи к сроку сдачи проекта.)
•	При работе в команде более грамотно распределять задачи. (Позже мы стали планировать рабочий процесс таким образом, чтобы задачи выполнялись в нужной последовательности, а каждый член команды был занят выполнением своей части проекта. Также стали устанавливать контроль над процессом работы и делать корректировки плана в случае необходимости.)
 
Заключение
Во время работы над проектом были выявлены определенные, связанные с недостаточно тщательной подготовкой, отсутствием систематического подхода, неправильным распределением времени и задач в проекте, проблемы.
Рекомендации, которые мы дали бы себе:
•	Планируйте структуру проекта: разделите код на логические модули и классы, учитывая принципы объектно-ориентированного программирования. Создайте план структуры проекта, определите основные компоненты и связи между ними.
•	Обратите внимание на графический дизайн: уделите должное внимание графическому дизайну приложения. Разработайте интерфейс пользователя, который будет привлекательным и интуитивно понятным. Выберите соответствующие цветовые схемы, шрифты и элементы управления.
•	Обработка событий: Учтите обработку различных событий, таких как нажатия клавиш, клики мыши и другие пользовательские действия. Правильно используйте функции обработки событий Pygame, чтобы эффективно отслеживать и реагировать на взаимодействие пользователя.
•	Оптимизация производительности: если ваше приложение содержит много графических элементов или выполняет сложные вычисления, обратите особое внимание на оптимизацию производительности. Используйте спрайты и поверхности для эффективного отображения объектов. Оптимизируйте код, избегая ненужных вычислений и обновлений экрана.
•	Тестирование: Планируйте тестирование вашего приложения для проверки его функциональности и выявления возможных ошибок. Используйте модульное тестирование для проверки отдельных компонентов и интеграционное тестирование для проверки взаимодействия между ними.
•	Эффективная коммуникация и сотрудничество: Обеспечьте эффективную коммуникацию и сотрудничество в команде. Определите роли и ответственности каждого участника проекта. Используйте систему контроля версий, такую как Git, для управления изменениями в коде и обмена информацией.
